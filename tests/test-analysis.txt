testall.sh compiles all (most) of the pascal source files in the src/ sub-
directory.  The src/ sub-directory contains various pascal programs found by
scouring the internet (most not attributed here.. sorry).  As of this
writing, the following errors are reported when testall.sh is ran:

 1. Several test cases found on the internet failed because they involved the
    use of non-standard Pascal types('filename', 'list', 'word', 'longword) and
    undefined functions, and  procedures (fsplit, addr).
    - Test cases using the list type probably have been removed (src/901-pageutils.pas
      which used longword has not yet been removed)
    - For testing purposes, the filename type has been changed to the string type.
 2. Smart Pascal has a Length function:
      function Length ( const SourceString : string ) : Integer;
      function Length ( const  SourceArray : array ) : Integer;
    The Length function returns either the number of characters in SourceString,
    or the number of elements in SourceArray. (See units/DayIO.pas)
    It is often used to loop around all characters in a string or elements in
    an array.
 3. Free Pascal as the lowercase function:
    See failure in src/803-redirect.pas
 3. Currently a set is limited to 32 elements so that they can be represented
    internally as a 32-bit bit set.
 4. I/O operations on most types of arrays and VAR arrays are not fully
    implemented.  See src/107-quicksort.pas
 5. Not all file I/O functions have been implemented.
 6. Forward references to variables before they are defined to not work.  See
    failure in src/108-pointerrecode.pas.
 7. Unit files with data declarations, but no implementation.
 8. There are a couple of files with initialization like:
      input = 1;
      output = 2;
    I am not sure what these mean and have just commented them out for now.
    Assignment of a numeric value to a file is not supported.

Successful test results are not shown.

########src/008-setcolors.pas########
Line 0:0008 Error 0a Token 3a

Line:
names : array [color] of String[7]
  = ('red', 'blue', 'yellow', 'green', 'white', 'black', 'orange');

Error:
186 #define eEQ              ((uint16_t) 0x0a) <-- Expected '='

Token: ':'

Analysis:

########src/104-primes.pas########
Line 0:0012 Error 4d Token 3b

Line (in var section):
 12   sieve, primes : array[0..w] of set of 0..maxbit;

Where (in const section)
  8   maxbit = 58;

Error:
241 #define eEXPRTYPE        ((uint16_t) 0x3d)

Token: '='

Analysis:
This is a consequence of the fact that sets are implemented as bitsets and
the bitset is currently limited to 32-bits:

########src/106-bubblesort.pas########
########src/107-quicksort.pas########

These two examples compile fine but no output appears on stdout.
(Perhaps they crash silently?)

########src/108-pointerrecode.pas########
Line 0:0004 Error 1e Token 01 (RECDATA)

Line:
type
  rptr = ^recdata; <<< HERE
  recdata = record
    number : integer;
    code : string;
    nextrecord : rptr
  end;

Error:
#define eINVTYPE         ((uint16_t) 0x1e)

Token:
#define tIDENT           0x01

Analysis:
Fails because recdata is not defined yet and the forward reference is not supported.

########src/109-findwords.pas########
Line 0:0018 Error 1e Token 01 (LIST)

After commenting out re-definition of boolean constants:

const
    { TRUE = 1;
      FALSE = 0; }

Line:
type
     listptr = ^list;  <<< HERE
     list = record
              line : integer;       { line number of occurrence     }
              nextline : listptr;   { link to next line number      }
              prevline : listptr    { link to previous line number  }
     end;

Error:
#define eINVTYPE         ((uint16_t) 0x1e)

Token:
#define tIDENT           0x01

Analysis:
Same problem as with src/108-pointerrecode.pas:  Use of forward reference to
define a pointer variable fails.

########src/601-readfile.pas########
Compiles without error but generates errors at run-time:

  ERROR: pexec_OpenFile: Bad open mode,"No such file or directory": 0

Analysis:
Compiles fine, but generates run-time errors.  This is because the program
depends on a file called students.dat which does not exist.

########src/602-writefile.pas########
Line 0:0016 Error 1e Token 09

Line:
 16   Student.s_name := 'John Smith';
Where:
  2 type
  3    StudentRecord = Record
  4       s_name: String;
  5       s_addr: String;
  6       s_batchcode: String;
  7    end;


Error:
207 #define eINVTYPE         ((uint16_t) 0x1e)

Token:
 53 #define tASSIGN          0x09

Analysis:
Probably another issue related to missing string handling.

########src/603-appendfile.pas########
Line 0:0020 Error 2d Token 4b

Line:
 20      readln(myfile, info);

Error:
222 #define ePTRADR          ((uint16_t) 0x2d)

Token:
 83 #define sSTRING          0x4b /* String storage type */

Analysis:
Not yet analyzed.  Perhaps an issue related to string types.

########src/604-textfile.pas########
Compiles without error but generates errors at run-time:

  ERROR: pexec_OpenFile: Bad open mode,"No such file or directory": 0

Analysis:
This is not really an error.  The program depes on the existence of a file
called Students.dat which does not exist.  Same as src/601-readfile.pas

########src/605-subprogram.pas########
Line 0:0052 Error 2d Token 4b

Line:
 52    readln(filename);
Where:O
  7 var
  9    filename: string;

Error:
224 #define ePTRADR          ((uint16_t) 0x2d)

Token:
 83 #define sSTRING          0x4b /* String storage type */

Analysis:
The error occurs in ptrFactor().  Pointers to strings not supported because
there are no pointer variables in memory yet.

########src/606-addfiledata.pas########
Line 0:0052 Error 2d Token 4b

Line:
 52    readln(filename);
Where:O
  7 var
  9    filename: string;

Error:
224 #define ePTRADR          ((uint16_t) 0x2d)

Token:
 83 #define sSTRING          0x4b /* String storage type */

Analysis:
Same as src/605-subprogram.pas

########src/803-redirect.pas########
Line 0:0068 Error 3b Token 01 (lowercase)

Line:
 68                   if lowercase(copy(value, 1, 5)) = 'http:' then

Error:
239 #define eUNDEFSYM        ((uint16_t) 0x3b)

Token:
 44 #define tIDENT           0x01

Analysis:
The Free Pascal, non-standard lowercase() function is not supported.
Appears as an undefined identifier.

########src/901-pageutils.pas########
Line 0:0954 Error 1e Token 01 (longword)

Line:
In TYPE definition section:
 954 ulong = longword;

Error:
208 #define eINVTYPE         ((uint16_t) 0x1e)

Token:
 44 #define tIDENT           0x01

Analysis:
Type longword is not supported.

########sinecos.pas########
########unit-cosine.pas########
########unit-sine.pas########
########unit-data.pas########
########sinecos.pex########
NOW:
---

ERROR: pexec_WriteString: Not open for writing: 0
ERROR: pexec_WriteReal: Not open for writing: 0
ERROR: pexec_WriteString: Not open for writing: 0
ERROR: pexec_WriteReal: Not open for writing: 0
ERROR: pexec_WriteString: Not open for writing: 0
ERROR: pexec_WriteReal: Not open for writing: 0
ERROR: pexec_WriteChar: Not open for writing: 0
sinecos.pex Loaded
Enter radians   : cos(0.707107)=0.707107
sin(0.707107)=0.000000

Analysis:
The error occurs in the main block in the statement:

   19    writeln('sin(', x, ')**2 + cos(', x, ')**2=', myone)

I can see that something in the logic of the function myone corrupts that stack:

The value of OUTPUT on the stack is 1 prior to calling 'myone' but has changed
to 0 on return, casing the error (0 is INPUT which is not open for writing).
The 'myone' is in unit-data.pas

BEFORE:
------

sinecos.pex Loaded
Enter radians   : cos(0.707107)=0.707107
sin(0.707107)=-1049815400776833903362048.000000
sin(0.703117)**2 + cos(0.703117)**20.000000

Compiles, links, and runs OK but the results don't look right.

########worksched.pas########
Line 0:0055 Error 2f Token 2c

Error:
#define eRBRACKET        ((uint16_t) 0x2f)

Line:
 55        ScheduleType = ARRAY [HourType, DayType] OF EmployeeType;
where
 50        EmployeeType = string[EmployeeMaxLen];

Token: ','

Analysis:
The compiler did not recognize the second index.  Apparently multi-dimensioned arrays have problems.

########DayIO.pas########
Line 0:0122 Error 3b Token 01 (Length)

Error:
237 #define eUNDEFSYM        ((uint16_t) 0x3b)

Line:
122                     WHILE (Ch <> ' ') AND (Length(DayStr) < DaySize) DO

Token:
 44 #define tIDENT           0x01

Analysis:
Function Length() is not defined.  This appears to be a part of Smart Pascal?

########worksched.pex########
ERROR: Could not open worksched.o: No such file or directory
ERROR: Error opening 'worksched.pex': 2
ERROR: Could not load worksched.pex