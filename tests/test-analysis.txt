testall.sh compiles all (most) of the pascal source files in the src/ sub-directory.  The src/ sub-directory contains various pascal programs found by scouring the internet (most not attributed here.. sorry).  As of this writing, the following errors are reported when testall.sh is ran:

1. Several test cases fail because the involve use of non-standard Pascal types
   (filename and list) and undefined procedures (fsplit).
   test cases using the list type probably have been removed; For testing purposes,
   the filename type has been changed to the string type.
   According to freepascal.org, fsplit is a procedure in a unit called DOS.  I am
   not sure how standard that unit is.
2. Currently a set is limited to 32-bits to so that they can be represented internally
   as a 32-bit bit set.
3. The eof and eoln take an optional parameter that is a reference to a file variable.
   If the optional parameter is supplied then the eof function tests the file associated
   with the parameter. If the optional parameter is not supplied then the file
   associated with the built-in variable input is tested.

   Logic in fileFunc() in pffunc.c always expects a file number to be present and does
   not handle the builtin input variable.
4. Operations on type 'string' are no yet supported
5. Unit files with data declarations, but no implementation.
6. General usage of units.  Most of these are not skipped by testall.sh.

Successful test results are not shown.

########src/104-primes.pas########
Line 0:0012 Error 47 Token 3b

Line (in var section):
 12   sieve, primes : array[0..w] of set of 0..maxbit;

Where (in const section)
  8   maxbit = 58;

Error:
244 #define eSETRANGE        ((uint16_t) 0x47)

Analysis:
This is a consequence of the fact that sets are currently limited to 32-bits:

########src/107-quicksort.pas########
Line 0:0023 Error 21 Token 86

Line:
 23             WHILE NOT eof DO BEGIN

Error:
204 #define eLPAREN          ((uint16_t) 0x21)


Token:
115 #define tDO              0x86

Analysis:
The eof takes an optional parameter that is a reference to a file variable. If the optional parameter is supplied then the eof function tests the file associated with the parameter. If the optional parameter is not supplied then the file associated with the built-in variable input is tested.

Logic in fileFunc() in pffunc.c always expects a file number to be present and does not handle the builtin input variable.

########src/803-redirect.pas########
Line 0:0065 Error 1e Token 3d

Line:
 65         if (name = 'lstnavigation') or (name = 'navigation') or (name = 'goto') then

Error:
200 #define eINVTYPE         ((uint16_t) 0x1e)

Token:
 66 #define tEQ              ('=')

Analysis:
Failure occurs while processing the 'line' symbol:

  (gdb) p tkn_strt
  $2 = 0x80008a291 "NAME"

On the second time through simpleFactor
(gdb) bt
#0  error (errcode=30) at perr.c:128
#1  0x0000000100408d6e in simpleFactor (varPtr=0xffffc590, factorFlags=9 '\t') at pexpr.c:1649
&&&& simpleFactor: token=3d ('=') sKind=57
 93 #define sVAR_PARM        0x57

#2  0x0000000100408cbb in simpleFactor (varPtr=0xffffc590, factorFlags=9 '\t') at pexpr.c:1621
&&&& simpleFactor: token=3d ('=') sKind=4b
 81 #define sSTRING          0x4b /* String storage type */

#3  0x0000000100408240 in complexFactor () at pexpr.c:1171
...

The problem is that operations on the 'string' are not yet implemented.

########src/805-cgimail.pas########
Line 0:0037 Error 09 Token 01 (FSPLIT)

Line:
 33    function AppDir : string;
 34    var
 35       fdir : string;
 36    begin
 37       fsplit(paramstr(0), fdir,,);
 38       AppDir := fdir
 39    end;

Error:
183 #define eIDENT           ((uint16_t) 0x01)

Token:
178 #define eEND             ((uint16_t) 0x09)

Analysis:
There is no builin fsplit procedure.

########src/901-pageutils.pas########
Line 0:0654 Error 0f Token 45

Line:
 654 input = 1;

Error:
184 #define eIMPLEMENTATION  ((uint16_t) 0x0f)

Token:
 75 #define sFILE            0x45

Analysis:
This is a unit with constant/variable/procedure definitions.  It has no implementation section at the end as does a normal program file.

########src/501-uses.pex########
Fatal Error 41 -- Aborting

Error:
238 #define eARRAYTYPE       ((uint16_t) 0x41)

Analysis:
This is an issue with using units.  They appear not to work.
